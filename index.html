<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CYBER-REBORN: Battle Royale</title>
    <style>
        body { margin: 0; background: #050505; color: #00f2ff; font-family: 'Courier New', monospace; overflow: hidden; }
        canvas { display: none; background: #0a0a0a; cursor: crosshair; }
        #menu { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; background: radial-gradient(circle, #111 0%, #000 100%); z-index: 100; }
        .box { padding: 50px; border: 2px solid #00f2ff; border-radius: 5px; text-align: center; background: rgba(0,0,0,0.8); box-shadow: 0 0 30px #00f2ff; }
        .btn-play { padding: 15px 50px; font-size: 20px; letter-spacing: 3px; background: none; border: 2px solid #ff00ff; color: #ff00ff; cursor: pointer; transition: 0.3s; }
        .btn-play:hover { background: #ff00ff; color: white; box-shadow: 0 0 20px #ff00ff; }
        #ui { position: absolute; top: 20px; left: 20px; display: none; pointer-events: none; z-index: 10; }
        #kill-feed { position: absolute; top: 20px; right: 20px; width: 300px; text-align: right; color: #00f2ff; font-size: 12px; z-index: 10; }
    </style>
</head>
<body>

    <div id="menu">
        <div class="box">
            <h1 style="font-size: 45px; margin: 0; text-shadow: 0 0 10px #00f2ff;">CYBER-REBORN</h1>
            <p style="color: #666; margin-bottom: 30px;">CHEESE PRODUCTIONS: NEW GAME ENGINE</p>
            <button class="btn-play" id="playBtn">INITIALIZE MATCH</button>
        </div>
    </div>

    <div id="ui">
        <div id="hp-bar" style="width: 200px; height: 10px; border: 1px solid #ff00ff; margin-bottom: 10px;">
            <div id="hp-inner" style="width: 100%; height: 100%; background: #ff00ff;"></div>
        </div>
        <div id="status" style="font-size: 18px;">UPLINK STABLE | PLAYERS: 100</div>
    </div>

    <div id="kill-feed"></div>
    <canvas id="game"></canvas>

<script>
    const canvas = document.getElementById('game');
    const ctx = canvas.getContext('2d');
    
    let gameActive = false, aliveCount = 100, zoneRadius = 4000;
    let player = { x: 2500, y: 2500, hp: 100, lastShot: 0 };
    let bots = [], bullets = [], structures = [], keys = {};

    const botNames = ["X-STRIKER", "CYBER_BOY", "GLITCH", "NEON_RAIDER", "NULL_POINTER"];

    // Initialize New Map
    for(let i=0; i<80; i++) structures.push({ x: Math.random()*4800, y: Math.random()*4800, w: 100 + Math.random()*200, h: 100 + Math.random()*200 });
    
    for(let i=0; i<99; i++) {
        bots.push({ 
            id: i, name: botNames[Math.floor(Math.random()*botNames.length)] + "_" + i,
            x: Math.random()*5000, y: Math.random()*5000, 
            hp: 120, alive: true, vx: (Math.random()-0.5)*4, vy: (Math.random()-0.5)*4, lastShot: 0,
            color: Math.random() > 0.5 ? '#ff00ff' : '#00f2ff'
        });
    }

    function addKill(msg) {
        const feed = document.getElementById('kill-feed');
        const entry = document.createElement('div');
        entry.innerText = "> " + msg;
        feed.prepend(entry);
        setTimeout(() => entry.remove(), 3000);
    }

    document.getElementById('playBtn').onclick = () => {
        document.getElementById('menu').style.display = 'none';
        document.getElementById('ui').style.display = 'block';
        canvas.style.display = 'block';
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        gameActive = true;
        requestAnimationFrame(loop);
    };

    function shoot(u, tx, ty, isPlayer) {
        const rate = isPlayer ? 250 : 1000;
        if(Date.now() - u.lastShot < rate) return;
        let ang = Math.atan2(ty - u.y, tx - u.x);
        if(!isPlayer) ang += (Math.random() - 0.5) * 0.3;
        bullets.push({ x: u.x, y: u.y, vx: Math.cos(ang)*18, vy: Math.sin(ang)*18, isPlayer });
        u.lastShot = Date.now();
    }

    function loop() {
        if(!gameActive) return;

        // Player Movement (Faster)
        let speed = 6;
        if(keys['w']) player.y -= speed; if(keys['s']) player.y += speed;
        if(keys['a']) player.x -= speed; if(keys['d']) player.x += speed;

        // Zone Logic
        zoneRadius -= 0.15;
        if(Math.hypot(player.x-2500, player.y-2500) > zoneRadius) player.hp -= 0.5;

        // Bot Logic
        bots.forEach(b => {
            if(!b.alive) return;
            b.x += b.vx; b.y += b.vy;
            if(b.x < 0 || b.x > 5000) b.vx *= -1;
            if(b.y < 0 || b.y > 5000) b.vy *= -1;

            if(Math.hypot(b.x-player.x, b.y-player.y) < 500) shoot(b, player.x, player.y, false);
            else {
                let target = bots.find(o => o.alive && o.id !== b.id && Math.hypot(b.x-o.x, b.y-o.y) < 400);
                if(target) shoot(b, target.x, target.y, false);
            }
        });

        // Bullets
        for(let i=bullets.length-1; i>=0; i--) {
            let b = bullets[i];
            b.x += b.vx; b.y += b.vy;
            if(b.isPlayer) {
                bots.forEach(bot => { if(bot.alive && Math.hypot(b.x-bot.x, b.y-bot.y)<25) { bot.hp -= 40; if(bot.hp <= 0){bot.alive=false; aliveCount--; addKill("DELETED " + bot.name);} bullets.splice(i,1); } });
            } else if(Math.hypot(b.x-player.x, b.y-player.y)<20) { player.hp -= 10; bullets.splice(i,1); }
        }

        // DRAWING
        ctx.fillStyle = '#0a0a0a'; ctx.fillRect(0,0,canvas.width,canvas.height);
        ctx.save(); ctx.translate(canvas.width/2-player.x, canvas.height/2-player.y);
        
        // Grid
        ctx.strokeStyle = '#111'; ctx.lineWidth = 1;
        for(let i=0; i<5000; i+=100) { ctx.beginPath(); ctx.moveTo(i,0); ctx.lineTo(i,5000); ctx.stroke(); ctx.beginPath(); ctx.moveTo(0,i); ctx.lineTo(5000,i); ctx.stroke(); }

        // Zone
        ctx.strokeStyle = '#ff00ff'; ctx.lineWidth = 5; ctx.beginPath(); ctx.arc(2500, 2500, zoneRadius, 0, Math.PI*2); ctx.stroke();

        // Buildings
        ctx.fillStyle = '#111'; ctx.strokeStyle = '#00f2ff'; ctx.lineWidth = 2;
        structures.forEach(s => { ctx.fillRect(s.x, s.y, s.w, s.h); ctx.strokeRect(s.x, s.y, s.w, s.h); });

        // Entities
        bots.forEach(b => { if(b.alive) { ctx.fillStyle = b.color; ctx.fillRect(b.x-12, b.y-12, 24, 24); } });
        ctx.fillStyle = '#fff'; bullets.forEach(b => ctx.fillRect(b.x, b.y, 4, 4));
        ctx.restore();

        // Player Center
        ctx.fillStyle = '#00f2ff'; ctx.shadowBlur = 15; ctx.shadowColor = '#00f2ff'; ctx.fillRect(canvas.width/2-10, canvas.height/2-10, 20, 20); ctx.shadowBlur = 0;

        document.getElementById('hp-inner').style.width = player.hp + "%";
        document.getElementById('status').innerText = "UPLINK STABLE | PLAYERS: " + aliveCount;

        if(player.hp <= 0 || aliveCount <= 1) location.reload();
        else requestAnimationFrame(loop);
    }

    window.onkeydown=(e)=>keys[e.key.toLowerCase()]=true;
    window.onkeyup=(e)=>keys[e.key.toLowerCase()]=false;
    window.onmousedown=(e)=>shoot(player, e.clientX-canvas.width/2+player.x, e.clientY-canvas.height/2+player.y, true);
</script>
</body>
</html>
